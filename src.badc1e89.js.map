{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","galleryList","document","querySelector","lightbox","overlay","lightboxImgEl","btnCloseEl","galleryMarkup","makeGalleryMarkup","galleryItems","images","map","join","insertAdjacentHTML","addEventListener","onLightboxOpenClick","imageClose","arrGalleryList","querySelectorAll","arrGalleryListCopy","e","preventDefault","imgClick","target","nodeName","imageOpen","dataset","source","alt","image","classList","add","src","index","indexOf","window","onLightboxChangeByKey","remove","removeAttribute","removeEventListener","code","lightboxImageMove","step","currentIndex","afterStepIndex","Number","length","console","log"],"mappings":"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","file":"src.badc1e89.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\n    description: \"Hokkaido Flower\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\n    description: \"Container Haulage Freight\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\n    description: \"Aerial Beach View\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\n    description: \"Flower Blooms\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\n    description: \"Alpine Mountains\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\n    description: \"Mountain Lake Sailing\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\n    description: \"Alpine Spring Meadows\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\n    description: \"Nature Landscape\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\n    description: \"Lighthouse Coast Sea\",\n  },\n];\n","import './sass/main.scss';\n\nimport galleryItems from './js/gallery-items';\n\nconst galleryList = document.querySelector('ul.js-gallery');\nconst lightbox = document.querySelector('.js-lightbox');\nconst overlay = document.querySelector('.lightbox__overlay');\nconst lightboxImgEl = document.querySelector('img.lightbox__image');\nconst btnCloseEl = document.querySelector(\n  'button[data-action=\"close-lightbox\"]',\n);\n\nconst galleryMarkup = makeGalleryMarkup(galleryItems);\n\ngalleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n\ngalleryList.addEventListener('click', onLightboxOpenClick);\nbtnCloseEl.addEventListener('click', imageClose);\noverlay.addEventListener('click', imageClose);\n\nfunction makeGalleryMarkup(images) {\n  return images\n    .map(({ preview, original, description }) => {\n      return `<li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      alt=\"${description}\"\n    />\n  </a>\n</li>`;\n    })\n    .join('');\n}\n\nconst arrGalleryList = galleryList.querySelectorAll('.gallery__image');\nconst arrGalleryListCopy = [...arrGalleryList];\n\nconsole.log(arrGalleryList);\n\nfunction onLightboxOpenClick(e) {\n  e.preventDefault();\n\n  const imgClick = e.target;\n  if (imgClick.nodeName !== 'IMG') {\n    return;\n  }\n\n  imageOpen(imgClick.dataset.source, imgClick.alt, imgClick);\n}\n\nfunction imageOpen(source, alt, image) {\n  lightbox.classList.add('is-open');\n\n  lightboxImgEl.src = source;\n  lightboxImgEl.alt = alt;\n\n  lightboxImgEl.dataset.index = arrGalleryListCopy.indexOf(image);\n\n  window.addEventListener('keydown', onLightboxChangeByKey);\n}\n\nfunction imageClose() {\n  lightbox.classList.remove('is-open');\n\n  lightboxImgEl.src = '';\n  lightboxImgEl.alt = '';\n\n  lightboxImgEl.removeAttribute('data-index');\n\n  window.removeEventListener('keydown', onLightboxChangeByKey);\n}\n\nfunction onLightboxChangeByKey(e) {\n  const ESC_KEY_CODE = 'Escape';\n  const ARROW_LEFT_KEY_CODE = 'ArrowLeft';\n  const ARROW_RIGHT_KEY_CODE = 'ArrowRight';\n\n  if (e.code === ESC_KEY_CODE) {\n    imageClose();\n  }\n\n  if (e.code === ARROW_LEFT_KEY_CODE) {\n    lightboxImageMove(-1);\n  }\n\n  if (e.code === ARROW_RIGHT_KEY_CODE) {\n    lightboxImageMove(1);\n  }\n}\n\nfunction lightboxImageMove(step) {\n  const currentIndex = Number(lightboxImgEl.dataset.index);\n  let afterStepIndex = currentIndex + step;\n\n  if (afterStepIndex < 0) {\n    afterStepIndex = arrGalleryListCopy.length - 1;\n  }\n\n  if (afterStepIndex > arrGalleryListCopy.length - 1) {\n    afterStepIndex = 0;\n  }\n\n  lightboxImgEl.src = arrGalleryListCopy[afterStepIndex].dataset.source;\n  lightboxImgEl.alt = arrGalleryListCopy[afterStepIndex].alt;\n  lightboxImgEl.dataset.index = afterStepIndex;\n}\n"]}